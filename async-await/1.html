<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>async和await</title>
</head>
<body>
	<script>
		/* 什么是async和await
          你要想理解语法，可以先从两个单词的基本意思来进行了解.async是异步的简写，而await可以堪称async wait的简写。
          明白了两个单词，就很好理解了async是声明一个方法是异步的，await是等待异步方法完成。
          注意的是: await必须在async方法中才可以使用因为await访问本身就会造成程序停止堵塞，所以必须在异步方法中才可以使用。
		*
		* */

		/*
		*  首先来说说async，这个异步的名词一般写在function的前面，顾名思义，就是让这个方法变得异步.
		*  关于它的返回值，我们可以打印一下
		* */
		async function testAsync(){
			return 'Hello async';
		}
		const result = testAsync();
		console.log(result); // Promise { 'Hello async' }, 返回了一个promise

		/*
		* await在等什么？await一般在等待async方法执行完毕，但是其实await等待的只是一个表达式，
		* 这个表达式在官方文档里说的是Promise对象，可是它也可以接受普通值。
		* 我们写一段代码来验证一下这个结果。在程序中我们有用async的方法，也有普通的方法。最后在控制台输出时，你会发现都可以直接输出。
		* */

		function getSomething(){
			return 'something';
		}

		async function testAsync2(){
			return 'Hello async';
		}

		async function test(){
			const v1 = await getSomething(); // 记得await一定要在async函数中用哦
			const v2 = await testAsync2(); // 加上了await则返回的是普通字符串
			const v3 = testAsync2() // 没有加await，返回的是promise
			console.log(v1,v2,v3);
		}

		test();
	</script>
</body>
</html>